* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}
body {
  margin: 0;
  display: grid;
  grid-template-areas: /* singer html 다른 gird-area header 밑 부분 변경*/
    "header header header"
    "left left right";

  /* 기존 CSS의 grid-template-columns(60px 1fr 250px) 등을 덮어씀 */
  grid-template-columns: 1fr 1fr 360px;
  grid-template-rows: 64px 1fr;
  height: 100vh;
  font-family: Arial, Helvetica, sans-serif;
  background: #000;
  color: #fff;
  /* transition: grid-template-columns 0.25s ease; */
}
/* 반응형 body */
@media (min-width: 768px) {
  body {
    grid-template-columns: 1fr 1fr 380px;
  }
}
@media (min-width: 1024px) {
  body {
    grid-template-columns: 1fr 1fr 420px;
  }
}

/* =========================
       HEADER 
    ========================== */

header {
  grid-area: header;
  background: #121212;
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 0 20px;
}
/* left-header */
.header-left {
  display: flex;
  align-items: center;
  gap: 20px;
}
.fa-spotify {
  font-size: 32px;
  color: #1db954;
}

/* center-header */
.header-center {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  min-width: 0; /* 가운데 영역이 필요할 때 줄어들 수 있게(아이콘을 안 막도록) */
}

/* festival icon*/
.fa-solid {
  font-size: 18px;
  color: #ffffff;
  background-color: #2a2a2a;
  padding: 10px;
  border-radius: 50%;
}

/* search box */
.search-box {
  display: flex;
  align-items: center;
  width: 100%;
  max-width: 420px;
  background-color: #2a2a2a;
  border-radius: 999px;
  padding: 8px 14px;
}
.search-box input {
  flex: 1;
  background: transparent;
  border: none;
  outline: none;
  color: white;
  font-size: 14px;
  margin-left: 10px;
  min-width: 0; /* place holder 길어도 input 수축 ㄱㄴ */
}

.search-icon {
  color: #b3b3b3;
}

/* 오른쪽 */
.header-right {
  display: flex;
  align-items: center;
  gap: 18px;
  flex-shrink: 0;
}

/* icon */

header .header-right i {
  color: #b3b3b3;
  font-size: 18px;
  cursor: pointer;
  background-color: #2a2a2a;
  border-radius: 999px;
  padding: 10px;
}

header .header-right i:hover {
  color: #ffffff;
}

main .main{
    flex: 1;
}

/************************************************************
        1) LEFT 영역(aside-left)
           - 스포티파이 라이브러리처럼 “원형 아티스트 3열 고정”
           - PC/Tablet/Mobile 모두 한 줄에 3개 유지
           - 줄(행) 끝나면 row-gap으로 간격 확보
      ************************************************************/
.artist-stage {
  /* hover 시 중앙 확대 카드가 absolute로 뜰 수 있게 기준 잡기 */
  position: relative;
  width: 100%;
  height: 100%;
  min-height: calc(100vh - 64px); /* header 64px 제외 */
}

/* 3×7 배열 그리드(항상 3열 유지) */
.artist-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr)); /* ✅ 항상 3열 */
  column-gap: 18px;
  row-gap: 26px; /* ✅ 한 가로줄 끝나면 다음 줄과 거리(요청: margin 느낌) */

  padding: 14px;
}

/* 원형 박스 크기: 화면에 따라 자동 조절(하지만 3열은 유지) */
.artist-card {
  position: relative;
  width: 100%;
  aspect-ratio: 1 / 1; /* ✅ 원형 유지 */
  border-radius: 50%;
  overflow: hidden; /* ✅ 기본은 원형 crop */
  background: #111;
  border: 1px solid rgba(255, 255, 255, 0.08);

  display: flex;
  align-items: center;
  justify-content: center;

  cursor: pointer;
  text-decoration: none;
  color: #fff;

  /* hover용 애니메이션(일반 카드) */
  transition:
    transform 0.18s ease,
    box-shadow 0.18s ease,
    opacity 0.18s ease;
}

.artist-card img {
  width: 100%;
  height: 100%;
  object-fit: cover; /* 기본은 얼굴이 꽉 차게(원형 crop) */
  display: block;
}

/* ✅ 일반 카드 hover: 살짝 강조 */
.artist-card:hover {
  transform: scale(1.03);
  box-shadow: 0 10px 24px rgba(0, 0, 0, 0.6);
}

/* hover 시 “원형 box 안에 딱 맞게” 이름 표시 */
.artist-name {
  position: absolute;
  inset: 0; /* 원형 전체 덮기 */
  display: flex;
  align-items: center;
  justify-content: center;

  text-align: center;
  padding: 10px;

  /* 텍스트가 원형 안에서 잘리거나 넘치지 않도록 */
  font-weight: 700;
  font-size: 14px;
  line-height: 1.2;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;

  background: rgba(0, 0, 0, 0.55);
  opacity: 0;
  transition: opacity 0.15s ease;
}

/* ✅ 일반 hover 시 이름 노출 */
.artist-card:hover .artist-name {
  opacity: 1;
}

/************************************************************
        2) “상단 1줄(3명만)”은 hover 동작을 다르게 처리
           - 다른 카드 숨김(코드 단순)
           - hover 카드: left 중앙으로 이동 + 커지고
           - 원형 crop(overflow hidden) 해제하여 전체 얼굴이 보이도록
           - hover 카드 밑에 YouTube iframe(16:9) 노출
      ************************************************************/
/* .artist-card.featured {}
  /* featured도 기본은 일반 카드와 동일하게 보이게 */
 */

/* ✅ featured hover가 발생하면: left 전체에서 다른 카드를 숨김 */
.aside-left:has(.artist-card.featured:hover) .artist-card:not(:hover) {
  opacity: 0;
  pointer-events: none;
}

/* ✅ featured hover 카드 자체를 “left 중앙”으로 이동시키기 */
.aside-left:has(.artist-card.featured:hover) .artist-card.featured:hover {
  position: absolute;
  left: 50%;
  top: 42%;
  transform: translate(-50%, -50%);

  /* 원형에서 “큰 카드”로 확장 */
  width: min(520px, 92%);
  aspect-ratio: auto; /* 이제 원형 고정 X */
  border-radius: 18px;

  /* 원형 crop 해제 */
  overflow: visible;

  z-index: 50;
  background: #0f0f0f;
  border: 1px solid rgba(255, 255, 255, 0.12);
}

/* ✅ featured hover 시 이미지는 “전체 얼굴이 보이도록” contain */
.artist-card.featured:hover img {
  /* crop을 없애고 전체가 보이도록 */
  object-fit: contain;
  background: #000;
}

/* featured 카드 내부 구조: “이미지 영역”과 “영상 영역”을 분리 */
.featured-wrap {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding: 12px;
}

/* hover 전에는 featured-wrap을 숨기지 않고, 카드 전체가 이미지만 보여도 되지만
         - featured hover 시에는 아래 영상 영역이 필요하므로 구조를 항상 유지 */
.featured-thumb {
  width: 100%;
  height: min(340px, 48vh);
  border-radius: 14px;
  overflow: hidden; /* thumb만 깔끔하게 */
  border: 1px solid rgba(255, 255, 255, 0.08);
}

/* ✅ 영상(iframe)은 hover된 featured에서만 보이게 */
.featured-video {
  display: none;
}

.artist-card.featured:hover .featured-video {
  display: block;
}

/* 16:9 비율 유지용 wrapper */
.video-16x9 {
  position: relative;
  width: 100%;
  padding-top: 56.25%; /* ✅ 16:9 비율(요청한 방식) */
  border-radius: 14px;
  overflow: hidden;
  border: 1px solid rgba(255, 255, 255, 0.08);
}
.video-16x9 iframe {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  border: 0;
}

/* ✅ 화면이 너무 작으면(비율 유지 불가능한 수준) iframe 완전 차단 */
@media (max-width: 520px), (max-height: 560px) {
  .artist-card.featured:hover .featured-video {
    display: none !important;
    pointer-events: none !important;
  }
}

/************************************************************
        3) RIGHT 영역(aside.right)
           - 흐릿한 background image(overlay)
           - 글이 잘 보이게
           - “장르명/역사/특징”만 강조(색, 크기)
           - 나머지는 과한 꾸밈 없이 기본 텍스트로 유지
      ************************************************************/
.right-panel {
  position: relative;
  border-radius: 16px;
  overflow: hidden;
  height: 100%;
  min-height: calc(100vh - 64px);

  /* 기본 배경(hover 없을 때도 빈 화면 방지) */
  background: #0f0f0f;
  border: 1px solid rgba(255, 255, 255, 0.08);
}

/* 배경 이미지(흐릿하게) */
.right-panel::before {
  content: "";
  position: absolute;
  inset: 0;

  /* ✅ 기본 배경 이미지(원하는 이미지로 교체 가능) */
  background-image: url("https://images.unsplash.com/photo-1521334726092-b509a19597c1?auto=format&fit=crop&w=1200&q=60");
  background-size: cover;
  background-position: center;

  opacity: 0.18; /* ✅ 흐릿하게 */
  filter: blur(1px);
  transform: scale(1.04);

  pointer-events: none;
}

.right-content {
  position: relative;
  z-index: 2;
  padding: 16px;
}

/* 기본 문단 스타일(많이 꾸미지 않음) */
.right-content p {
  margin: 0 0 10px;
  line-height: 1.55;
  color: rgba(255, 255, 255, 0.92);
  font-size: 14px;
}

/* 강조 라벨: “장르명/역사/특징”만 */
.accent {
  color: #1db954; /* 스포티파이 느낌 */
  font-weight: 800;
  font-size: 16px;
}

/* 장르 설명 블록(hover에 의해 바뀌는 부분)
         - 기본은 숨김
         - hover 되었을 때만 보여짐
         - hover가 끝나도 60초 동안 천천히 사라지도록(transition 60s) */
.genre-panel {
  opacity: 0;
  transform: translateY(6px);
  transition:
    opacity 60s linear,
    /* ✅ hover 끝난 뒤 60초 동안 서서히 사라짐 */ transform 0.25s ease;
  pointer-events: none; /* 기본은 접근 불가 */

  padding-top: 8px;
  border-top: 1px solid rgba(255, 255, 255, 0.08);
  margin-top: 14px;
}

/* =============================
         4) “상단 3명(featured)” hover → right 내용 전환
            - JS 없이 :has()로 구현
            - hover 중에는 빠르게 나타남(transition 단축)
            - hover 해제 후에는 base(60s)로 돌아가면서 천천히 사라짐
      ============================= */

/* Gongwon hover */
body:has(.artist-card--gongwon:hover) .genre--gongwon {
  opacity: 1;
  transform: translateY(0);
  transition:
    opacity 0.2s ease,
    /* ✅ hover 중에는 빠르게 보이기 */ transform 0.2s ease;
  pointer-events: auto;
}

/* KYURI hover */
body:has(.artist-card--kyuri:hover) .genre--kyuri {
  opacity: 1;
  transform: translateY(0);
  transition:
    opacity 0.2s ease,
    transform 0.2s ease;
  pointer-events: auto;
}

/* LucidFall hover */
body:has(.artist-card--lucidfall:hover) .genre--lucidfall {
  opacity: 1;
  transform: translateY(0);
  transition:
    opacity 0.2s ease,
    transform 0.2s ease;
  pointer-events: auto;
}

/* hover 중인 featured에 맞춰 right 배경 이미지도 변경(선택사항)
         - “비어있지 않게” 예시 이미지를 넣어둠 */
body:has(.artist-card--gongwon:hover) .right-panel::before {
  background-image: url("https://images.unsplash.com/photo-1446057032654-9d8885db76c6?auto=format&fit=crop&w=1200&q=60");
}
body:has(.artist-card--kyuri:hover) .right-panel::before {
  background-image: url("https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?auto=format&fit=crop&w=1200&q=60");
}
body:has(.artist-card--lucidfall:hover) .right-panel::before {
  background-image: url("https://images.unsplash.com/photo-1511379938547-c1f69419868d?auto=format&fit=crop&w=1200&q=60");
}
